# ===========================================
# Equinet Environment Variables
# ===========================================
# Kopiera denna fil till .env och fyll i dina värden:
#   cp .env.example .env
#
# VIKTIGT: Committa ALDRIG .env filen!
# ===========================================

# -------------------------------------------
# Database
# -------------------------------------------
# ALTERNATIV 1: Lokal PostgreSQL (Docker) -- rekommenderat för utveckling
#   Starta med: npm run db:up
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/equinet"
DIRECT_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/equinet"

# ALTERNATIV 2: Supabase (hostad) -- för produktion eller delad dev-miljö
#   Hämta från: Supabase Dashboard -> Project Settings -> Database
# DATABASE_URL="postgresql://postgres.YOUR-REF:PASSWORD@pooler.supabase.com:5432/postgres?pgbouncer=true&connection_limit=1"
# DIRECT_DATABASE_URL="postgresql://postgres.YOUR-REF:PASSWORD@pooler.supabase.com:5432/postgres"

# -------------------------------------------
# NextAuth Configuration
# -------------------------------------------
# Generera secret med: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-here-min-32-chars"

# URL där appen körs (ändra vid deployment)
NEXTAUTH_URL="http://localhost:3000"

# -------------------------------------------
# Upstash Redis (Rekommenderat för Production)
# -------------------------------------------
# För rate limiting i serverless miljö (Vercel).
# Skapa konto på upstash.com → Create Redis Database → Copy credentials
# Kan lämnas tomt för development (använder då in-memory fallback)
UPSTASH_REDIS_REST_URL="https://your-redis-url.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-upstash-token"

# -------------------------------------------
# Sentry (Error Tracking & Monitoring)
# -------------------------------------------
# För production monitoring och error tracking.
# Skapa konto på sentry.io → Create Project → Copy DSN
# Kan lämnas tomt för development (errors loggas då endast till console)
NEXT_PUBLIC_SENTRY_DSN="https://your-sentry-dsn@sentry.io/your-project-id"
SENTRY_ORG="your-org-slug"
SENTRY_PROJECT="your-project-name"
# SENTRY_AUTH_TOKEN="your-auth-token" # Only needed for source map upload

# -------------------------------------------
# Email (Resend)
# -------------------------------------------
# För att skicka bokningsbekräftelser och kvitton.
# Skapa konto på resend.com → API Keys → Create API Key
# Utan API-nyckel loggas emails till konsolen (mock mode)
RESEND_API_KEY="re_xxxxxxxxxxxxx"
FROM_EMAIL="bokningar@equinet.se"
DISABLE_EMAILS="false"           # Set to "true" to disable email sending (logs to console instead)

# -------------------------------------------
# Cron Jobs (Vercel)
# -------------------------------------------
# Används av Vercel Cron Jobs för att verifiera anrop.
# Generera med: openssl rand -base64 32
# Lägg till i Vercel Project Settings -> Environment Variables
CRON_SECRET="your-cron-secret-here"

# -------------------------------------------
# Supabase Storage (Required for file uploads in production)
# -------------------------------------------
# Krävs för bilduppladdning (hästar, profilbilder, verifieringar).
# Hämta från: Supabase Dashboard → Settings → API
# Utan dessa variabler sparas filer lokalt (fungerar bara i dev).
NEXT_PUBLIC_SUPABASE_URL="https://your-project-ref.supabase.co"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# -------------------------------------------
# Encryption (Required for Fortnox integration in production)
# -------------------------------------------
# AES-256-GCM encryption key for storing OAuth tokens securely.
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# REQUIRED in production if using Fortnox. Dev uses auto-generated fallback.
# ENCRYPTION_KEY=""

# -------------------------------------------
# Google Maps (Valfritt)
# -------------------------------------------
# För geocoding av adresser. Kan lämnas tomt för MVP.
# GOOGLE_MAPS_API_KEY=""

# -------------------------------------------
# Anthropic API (Röstloggning)
# -------------------------------------------
# Krävs för röstloggningsfunktionen (AI-tolkning av diktat).
# Skapa nyckel på: https://console.anthropic.com/
# ANTHROPIC_API_KEY=""

# -------------------------------------------
# Subscription Billing (Stripe)
# -------------------------------------------
# Prenumerationsavgift för leverantörer.
# Sätt SUBSCRIPTION_PROVIDER="stripe" för att aktivera riktigt Stripe.
# Standard: "mock" (ingen extern kommunikation, för utveckling/demo).
SUBSCRIPTION_PROVIDER="mock"
# STRIPE_SECRET_KEY=""               # sk_test_... eller sk_live_...
# STRIPE_PUBLISHABLE_KEY=""          # pk_test_... eller pk_live_...
# STRIPE_WEBHOOK_SECRET=""           # whsec_...
# STRIPE_PRICE_ID_BASIC=""           # price_... (Stripe Price ID för Basic-planen)
FEATURE_PROVIDER_SUBSCRIPTION="false"
